# Development override for docker-compose.yml
# Usage: docker-compose -f docker-compose.yml -f docker-compose.dev.yml up

services:
  app:
    volumes:
      # Mount source code for live development
      - ./src:/app/src
      - ./server.sh:/app/server.sh
      # Keep existing mounts
      - ${HOME}/.config/ask-llm:/root/.config/ask-llm
      - ./.logs:/app/.logs
      - ${MODELS_PATH:-./models}:/app/models
      # Share host's GGUF model cache to avoid duplicate downloads
      - ~/.cache/ask_llm/models:/root/.cache/ask_llm/models

    # Restart on failure for auto-reload
    restart: on-failure
